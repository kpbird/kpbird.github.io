---
layout: post
title: 'Android In-Depth : How layoutopt works ?'
date: '2011-08-05T15:06:00.000+05:30'
author: Ketan Parmar
tags:
- layoutopt
- Android
- layout optimize
modified_time: '2011-08-05T15:09:16.663+05:30'
blogger_id: tag:blogger.com,1999:blog-17114597.post-4956719495815131984
blogger_orig_url: http://www.kpbird.com/2011/08/android-in-depth-how-layoutopt-works.html
---

<div dir="ltr" style="text-align: left;" trbidi="on">Hello All,<br /><br />In my previous post, I have explain you how to use layoutopt. It is common question how layoutopt works.<br />As you all aware that Android OS is open source. so I find the source code of layoutopt. layout is developed in core java. It parse the XML file and verify set of rules. &nbsp;<a href="http://groovy.codehaus.org/">Apache Groovy</a>&nbsp;library to implemented for rule engine.<br /><br />I have also attached source code with this article.<br /><br />Layoutopt apply following rules on every Layout.<br /><br /><div style="text-align: left;"></div><ol style="text-align: left;"><li>IncorrectHeightInScrollView.rule</li><li>IncorrectWidthInHorizontalScrollView.rule</li><li>InefficientWeight.rule</li><li>InefficientWeight.rule</li><li>NestedScrollingWidgets.rule</li><li>TooManyChildren.rule</li><li>TooManyLevels.rule</li><li>TooManyViews.rule</li><li>UseCompoundDrawables.rule</li><li>UselessLayout.rule</li><li>UselessView.rule</li></ol><a name='more'></a><br /><br /><div style="text-align: left;">Let's see what's inside the rule file</div><div style="text-align: left;"><br /></div><div style="text-align: left;"></div><div style="text-align: left;"><span class="Apple-style-span" style="background-color: #eeeeee; font-family: 'Courier New', Courier, monospace;">// Rule: UselessView</span></div><div style="text-align: left;"><span class="Apple-style-span" style="background-color: #eeeeee; font-family: 'Courier New', Courier, monospace;">//</span></div><div style="text-align: left;"><span class="Apple-style-span" style="background-color: #eeeeee; font-family: 'Courier New', Courier, monospace;">// Description: Checks whether a container view can be removed.</span></div><div style="text-align: left;"><span class="Apple-style-span" style="background-color: #eeeeee; font-family: 'Courier New', Courier, monospace;">//</span></div><div style="text-align: left;"><span class="Apple-style-span" style="background-color: #eeeeee; font-family: 'Courier New', Courier, monospace;">// Conditions:</span></div><div style="text-align: left;"><span class="Apple-style-span" style="background-color: #eeeeee; font-family: 'Courier New', Courier, monospace;">// - The node is a container view (LinearLayout, etc.)</span></div><div style="text-align: left;"><span class="Apple-style-span" style="background-color: #eeeeee; font-family: 'Courier New', Courier, monospace;">// - The node has no id</span></div><div style="text-align: left;"><span class="Apple-style-span" style="background-color: #eeeeee; font-family: 'Courier New', Courier, monospace;">// - The node has no background</span></div><div style="text-align: left;"><span class="Apple-style-span" style="background-color: #eeeeee; font-family: 'Courier New', Courier, monospace;">// - The node has no children</span></div><div style="text-align: left;"><span class="Apple-style-span" style="background-color: #eeeeee; font-family: 'Courier New', Courier, monospace;"><br /></span></div><div style="text-align: left;"><span class="Apple-style-span" style="background-color: #eeeeee; font-family: 'Courier New', Courier, monospace;">if (node.isContainer() &amp;&amp; node.'*'.size() == 0 &amp;&amp; !node.'@android:id' &amp;&amp;</span></div><div style="text-align: left;"><span class="Apple-style-span" style="background-color: #eeeeee; font-family: 'Courier New', Courier, monospace;">&nbsp; &nbsp; &nbsp; &nbsp; !node.'@android:background') {</span></div><div style="text-align: left;"><span class="Apple-style-span" style="background-color: #eeeeee; font-family: 'Courier New', Courier, monospace;">&nbsp; &nbsp; analysis &lt;&lt; "This ${node.name()} view is useless (no children, no background, no id)"</span></div><div style="text-align: left;"><span class="Apple-style-span" style="background-color: #eeeeee; font-family: 'Courier New', Courier, monospace;">}</span></div><div><br /></div><div><br /></div><div style="text-align: center;"><a href="https://docs.google.com/viewer?a=v&amp;pid=explorer&amp;chrome=true&amp;srcid=0B9CK0aNgCtjRYmJiZjRmOTAtZDA5YS00YjFlLTgwYzQtYjcwZGQwNzU3ZGI1&amp;hl=en_US"><span class="Apple-style-span" style="font-size: large;">ClickHere To Download Source Code</span></a>&nbsp;</div><div><b><span class="Apple-style-span" style="color: #b45f06;">Note: Click on link redirect to docs.google.com, Click on File-&gt;Download Original to download code</span></b></div></div>