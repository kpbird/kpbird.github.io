---
layout: post
title: Android Layout Optimize (layoutopt)
date: '2011-08-05T13:59:00.000+05:30'
author: Ketan Parmar
tags:
- layoutopt
- Android
- layout optimize
modified_time: '2011-08-05T13:59:43.124+05:30'
blogger_id: tag:blogger.com,1999:blog-17114597.post-7623874657827824720
blogger_orig_url: http://www.kpbird.com/2011/08/android-layout-optimize-layoutopt.html
---

<div dir="ltr" style="text-align: left;" trbidi="on">Android has many command-line tools available in platform-tools folder. "layoutopt" is one of them. Many time we take layout inside layout and never think about optimization of UI. Our main fous to achieve the final output. layoutopt tool allow us to verify our layout and suggest the change (if any). layoutopt is command-line tool. layoutopt analyze XML files.<br /><br />1. Open Terminal<br />2. Go to Android-SDK/platform-tools/<br /><br /><span class="Apple-style-span" style="background-color: white;"></span><br /><div class="jd-descr" style="border-bottom-width: 0px; border-color: initial; border-left-width: 0px; border-right-width: 0px; border-style: initial; border-top-width: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; margin-top: 0px; padding-bottom: 0px; padding-left: 0px; padding-right: 0px; padding-top: 0px;"><div style="border-bottom-width: 0px; border-color: initial; border-left-width: 0px; border-right-width: 0px; border-style: initial; border-top-width: 0px; color: #333333; line-height: 1.3em; margin-bottom: 1em; padding-bottom: 0px; padding-left: 0px; padding-right: 0px; padding-top: 0px;"><span class="Apple-style-span" style="font-family: inherit;">To run&nbsp;<code style="color: #007000; line-height: 1em;">layoutopt</code>&nbsp;against a given list of layout resources:</span></div><pre class="prettyprint" style="background-color: #fafafa; border-bottom-color: rgb(204, 204, 204); border-bottom-style: solid; border-bottom-width: 1px; border-left-color: rgb(204, 204, 204); border-left-style: solid; border-left-width: 1px; border-right-color: rgb(204, 204, 204); border-right-style: solid; border-right-width: 1px; border-top-color: rgb(204, 204, 204); border-top-style: solid; border-top-width: 1px; color: #007000; font-family: monospace; font-size: 13px; line-height: inherit; margin-bottom: 1em; margin-left: 1em; overflow-x: auto; overflow-y: auto; padding-bottom: 10px; padding-left: 10px; padding-right: 10px; padding-top: 10px;"><span class="pln" style="color: black;">layoutopt </span><span class="pun" style="color: #666600;">&lt;</span><span class="pln" style="color: black;">file_or_directory</span><span class="pun" style="color: #666600;">&gt;</span><span class="pln" style="color: black;"> </span><span class="pun" style="color: #666600;">...</span></pre><div style="border-bottom-width: 0px; border-color: initial; border-left-width: 0px; border-right-width: 0px; border-style: initial; border-top-width: 0px; color: #333333; font-family: arial, sans-serif; font-size: 13px; line-height: 1.3em; margin-bottom: 1em; padding-bottom: 0px; padding-left: 0px; padding-right: 0px; padding-top: 0px;">For example:</div></div><span class="Apple-style-span" style="background-color: white; font-family: arial, sans-serif; font-size: 13px;"></span><br /><pre class="prettyprint" style="background-color: #fafafa; border-bottom-color: rgb(204, 204, 204); border-bottom-style: solid; border-bottom-width: 1px; border-left-color: rgb(204, 204, 204); border-left-style: solid; border-left-width: 1px; border-right-color: rgb(204, 204, 204); border-right-style: solid; border-right-width: 1px; border-top-color: rgb(204, 204, 204); border-top-style: solid; border-top-width: 1px; color: #007000; font-family: monospace; line-height: inherit; margin-bottom: 1em; margin-left: 1em; overflow-x: auto; overflow-y: auto; padding-bottom: 10px; padding-left: 10px; padding-right: 10px; padding-top: 10px;"><span class="Apple-style-span" style="background-color: white; font-family: arial, sans-serif; font-size: 13px;"><span class="pln" style="color: black;">$ layoutopt samples</span><span class="pun" style="color: #666600;">/</span><span class="pln" style="color: black;"><br />samples</span><span class="pun" style="color: #666600;">/</span><span class="pln" style="color: black;">compound</span><span class="pun" style="color: #666600;">.</span><span class="pln" style="color: black;">xml<br />&nbsp; &nbsp;</span><span class="lit" style="color: #006666;">7</span><span class="pun" style="color: #666600;">:</span><span class="lit" style="color: #006666;">23</span><span class="pln" style="color: black;"> </span><span class="typ" style="color: #660066;">The</span><span class="pln" style="color: black;"> root</span><span class="pun" style="color: #666600;">-</span><span class="pln" style="color: black;">level </span><span class="pun" style="color: #666600;">&lt;</span><span class="typ" style="color: #660066;">FrameLayout</span><span class="pun" style="color: #666600;">/&gt;</span><span class="pln" style="color: black;"> can be replaced </span><span class="kwd" style="color: #000088;">with</span><span class="pln" style="color: black;"> </span><span class="pun" style="color: #666600;">&lt;</span><span class="pln" style="color: black;">merge</span><span class="pun" style="color: #666600;">/&gt;</span><span class="pln" style="color: black;"><br />&nbsp; &nbsp;</span><span class="lit" style="color: #006666;">11</span><span class="pun" style="color: #666600;">:</span><span class="lit" style="color: #006666;">21</span><span class="pln" style="color: black;"> </span><span class="typ" style="color: #660066;">This</span><span class="pln" style="color: black;"> </span><span class="typ" style="color: #660066;">LinearLayout</span><span class="pln" style="color: black;"> layout </span><span class="kwd" style="color: #000088;">or</span><span class="pln" style="color: black;"> its </span><span class="typ" style="color: #660066;">FrameLayout</span><span class="pln" style="color: black;"> parent </span><span class="kwd" style="color: #000088;">is</span><span class="pln" style="color: black;"> useless<br />samples</span><span class="pun" style="color: #666600;">/</span><span class="pln" style="color: black;">simple</span><span class="pun" style="color: #666600;">.</span><span class="pln" style="color: black;">xml<br />&nbsp; &nbsp;</span><span class="lit" style="color: #006666;">7</span><span class="pun" style="color: #666600;">:</span><span class="lit" style="color: #006666;">7</span><span class="pln" style="color: black;"> </span><span class="typ" style="color: #660066;">The</span><span class="pln" style="color: black;"> root</span><span class="pun" style="color: #666600;">-</span><span class="pln" style="color: black;">level </span><span class="pun" style="color: #666600;">&lt;</span><span class="typ" style="color: #660066;">FrameLayout</span><span class="pun" style="color: #666600;">/&gt;</span><span class="pln" style="color: black;"> can be replaced </span><span class="kwd" style="color: #000088;">with</span><span class="pln" style="color: black;"> </span><span class="pun" style="color: #666600;">&lt;</span><span class="pln" style="color: black;">merge</span><span class="pun" style="color: #666600;">/&gt;</span><span class="pln" style="color: black;"><br />samples</span><span class="pun" style="color: #666600;">/</span><span class="pln" style="color: black;">too_deep</span><span class="pun" style="color: #666600;">.</span><span class="pln" style="color: black;">xml<br />&nbsp; &nbsp;</span><span class="pun" style="color: #666600;">-</span><span class="lit" style="color: #006666;">1</span><span class="pun" style="color: #666600;">:-</span><span class="lit" style="color: #006666;">1</span><span class="pln" style="color: black;"> </span><span class="typ" style="color: #660066;">This</span><span class="pln" style="color: black;"> layout has too many nested layouts</span><span class="pun" style="color: #666600;">:</span><span class="pln" style="color: black;"> </span><span class="lit" style="color: #006666;">13</span><span class="pln" style="color: black;"> levels</span><span class="pun" style="color: #666600;">,</span><span class="pln" style="color: black;"> it should have </span><span class="pun" style="color: #666600;">&lt;=</span><span class="pln" style="color: black;"> </span><span class="lit" style="color: #006666;">10</span><span class="pun" style="color: #666600;">!</span><span class="pln" style="color: black;"><br />&nbsp; &nbsp;</span><span class="lit" style="color: #006666;">20</span><span class="pun" style="color: #666600;">:</span><span class="lit" style="color: #006666;">81</span><span class="pln" style="color: black;"> </span><span class="typ" style="color: #660066;">This</span><span class="pln" style="color: black;"> </span><span class="typ" style="color: #660066;">LinearLayout</span><span class="pln" style="color: black;"> layout </span><span class="kwd" style="color: #000088;">or</span><span class="pln" style="color: black;"> its </span><span class="typ" style="color: #660066;">LinearLayout</span><span class="pln" style="color: black;"> parent </span><span class="kwd" style="color: #000088;">is</span><span class="pln" style="color: black;"> useless<br />&nbsp; &nbsp;</span><span class="lit" style="color: #006666;">24</span><span class="pun" style="color: #666600;">:</span><span class="lit" style="color: #006666;">79</span><span class="pln" style="color: black;"> </span><span class="typ" style="color: #660066;">This</span><span class="pln" style="color: black;"> </span><span class="typ" style="color: #660066;">LinearLayout</span><span class="pln" style="color: black;"> layout </span><span class="kwd" style="color: #000088;">or</span><span class="pln" style="color: black;"> its </span><span class="typ" style="color: #660066;">LinearLayout</span><span class="pln" style="color: black;"> parent </span><span class="kwd" style="color: #000088;">is</span><span class="pln" style="color: black;"> useless<br />&nbsp; &nbsp;</span><span class="lit" style="color: #006666;">28</span><span class="pun" style="color: #666600;">:</span><span class="lit" style="color: #006666;">77</span><span class="pln" style="color: black;"> </span><span class="typ" style="color: #660066;">This</span><span class="pln" style="color: black;"> </span><span class="typ" style="color: #660066;">LinearLayout</span><span class="pln" style="color: black;"> layout </span><span class="kwd" style="color: #000088;">or</span><span class="pln" style="color: black;"> its </span><span class="typ" style="color: #660066;">LinearLayout</span><span class="pln" style="color: black;"> parent </span><span class="kwd" style="color: #000088;">is</span><span class="pln" style="color: black;"> useless<br />&nbsp; &nbsp;</span><span class="lit" style="color: #006666;">32</span><span class="pun" style="color: #666600;">:</span><span class="lit" style="color: #006666;">75</span><span class="pln" style="color: black;"> </span><span class="typ" style="color: #660066;">This</span><span class="pln" style="color: black;"> </span><span class="typ" style="color: #660066;">LinearLayout</span><span class="pln" style="color: black;"> layout </span><span class="kwd" style="color: #000088;">or</span><span class="pln" style="color: black;"> its </span><span class="typ" style="color: #660066;">LinearLayout</span><span class="pln" style="color: black;"> parent </span><span class="kwd" style="color: #000088;">is</span><span class="pln" style="color: black;"> useless<br />&nbsp; &nbsp;</span><span class="lit" style="color: #006666;">36</span><span class="pun" style="color: #666600;">:</span><span class="lit" style="color: #006666;">73</span><span class="pln" style="color: black;"> </span><span class="typ" style="color: #660066;">This</span><span class="pln" style="color: black;"> </span><span class="typ" style="color: #660066;">LinearLayout</span><span class="pln" style="color: black;"> layout </span><span class="kwd" style="color: #000088;">or</span><span class="pln" style="color: black;"> its </span><span class="typ" style="color: #660066;">LinearLayout</span><span class="pln" style="color: black;"> parent </span><span class="kwd" style="color: #000088;">is</span><span class="pln" style="color: black;"> useless<br />&nbsp; &nbsp;</span><span class="lit" style="color: #006666;">40</span><span class="pun" style="color: #666600;">:</span><span class="lit" style="color: #006666;">71</span><span class="pln" style="color: black;"> </span><span class="typ" style="color: #660066;">This</span><span class="pln" style="color: black;"> </span><span class="typ" style="color: #660066;">LinearLayout</span><span class="pln" style="color: black;"> layout </span><span class="kwd" style="color: #000088;">or</span><span class="pln" style="color: black;"> its </span><span class="typ" style="color: #660066;">LinearLayout</span><span class="pln" style="color: black;"> parent </span><span class="kwd" style="color: #000088;">is</span><span class="pln" style="color: black;"> useless<br />&nbsp; &nbsp;</span><span class="lit" style="color: #006666;">44</span><span class="pun" style="color: #666600;">:</span><span class="lit" style="color: #006666;">69</span><span class="pln" style="color: black;"> </span><span class="typ" style="color: #660066;">This</span><span class="pln" style="color: black;"> </span><span class="typ" style="color: #660066;">LinearLayout</span><span class="pln" style="color: black;"> layout </span><span class="kwd" style="color: #000088;">or</span><span class="pln" style="color: black;"> its </span><span class="typ" style="color: #660066;">LinearLayout</span><span class="pln" style="color: black;"> parent </span><span class="kwd" style="color: #000088;">is</span><span class="pln" style="color: black;"> useless<br />&nbsp; &nbsp;</span><span class="lit" style="color: #006666;">48</span><span class="pun" style="color: #666600;">:</span><span class="lit" style="color: #006666;">67</span><span class="pln" style="color: black;"> </span><span class="typ" style="color: #660066;">This</span><span class="pln" style="color: black;"> </span><span class="typ" style="color: #660066;">LinearLayout</span><span class="pln" style="color: black;"> layout </span><span class="kwd" style="color: #000088;">or</span><span class="pln" style="color: black;"> its </span><span class="typ" style="color: #660066;">LinearLayout</span><span class="pln" style="color: black;"> parent </span><span class="kwd" style="color: #000088;">is</span><span class="pln" style="color: black;"> useless<br />&nbsp; &nbsp;</span><span class="lit" style="color: #006666;">52</span><span class="pun" style="color: #666600;">:</span><span class="lit" style="color: #006666;">65</span><span class="pln" style="color: black;"> </span><span class="typ" style="color: #660066;">This</span><span class="pln" style="color: black;"> </span><span class="typ" style="color: #660066;">LinearLayout</span><span class="pln" style="color: black;"> layout </span><span class="kwd" style="color: #000088;">or</span><span class="pln" style="color: black;"> its </span><span class="typ" style="color: #660066;">LinearLayout</span><span class="pln" style="color: black;"> parent </span><span class="kwd" style="color: #000088;">is</span><span class="pln" style="color: black;"> useless<br />&nbsp; &nbsp;</span><span class="lit" style="color: #006666;">56</span><span class="pun" style="color: #666600;">:</span><span class="lit" style="color: #006666;">63</span><span class="pln" style="color: black;"> </span><span class="typ" style="color: #660066;">This</span><span class="pln" style="color: black;"> </span><span class="typ" style="color: #660066;">LinearLayout</span><span class="pln" style="color: black;"> layout </span><span class="kwd" style="color: #000088;">or</span><span class="pln" style="color: black;"> its </span><span class="typ" style="color: #660066;">LinearLayout</span><span class="pln" style="color: black;"> parent </span><span class="kwd" style="color: #000088;">is</span><span class="pln" style="color: black;"> useless<br />samples</span><span class="pun" style="color: #666600;">/</span><span class="pln" style="color: black;">too_many</span><span class="pun" style="color: #666600;">.</span><span class="pln" style="color: black;">xml<br />&nbsp; &nbsp;</span><span class="lit" style="color: #006666;">7</span><span class="pun" style="color: #666600;">:</span><span class="lit" style="color: #006666;">413</span><span class="pln" style="color: black;"> </span><span class="typ" style="color: #660066;">The</span><span class="pln" style="color: black;"> root</span><span class="pun" style="color: #666600;">-</span><span class="pln" style="color: black;">level </span><span class="pun" style="color: #666600;">&lt;</span><span class="typ" style="color: #660066;">FrameLayout</span><span class="pun" style="color: #666600;">/&gt;</span><span class="pln" style="color: black;"> can be replaced </span><span class="kwd" style="color: #000088;">with</span><span class="pln" style="color: black;"> </span><span class="pun" style="color: #666600;">&lt;</span><span class="pln" style="color: black;">merge</span><span class="pun" style="color: #666600;">/&gt;</span><span class="pln" style="color: black;"><br />&nbsp; &nbsp;</span><span class="pun" style="color: #666600;">-</span><span class="lit" style="color: #006666;">1</span><span class="pun" style="color: #666600;">:-</span><span class="lit" style="color: #006666;">1</span><span class="pln" style="color: black;"> </span><span class="typ" style="color: #660066;">This</span><span class="pln" style="color: black;"> layout has too many views</span><span class="pun" style="color: #666600;">:</span><span class="pln" style="color: black;"> </span><span class="lit" style="color: #006666;">81</span><span class="pln" style="color: black;"> views</span><span class="pun" style="color: #666600;">,</span><span class="pln" style="color: black;"> it should have </span><span class="pun" style="color: #666600;">&lt;=</span><span class="pln" style="color: black;"> </span><span class="lit" style="color: #006666;">80</span><span class="pun" style="color: #666600;">!</span><span class="pln" style="color: black;"><br />samples</span><span class="pun" style="color: #666600;">/</span><span class="pln" style="color: black;">useless</span><span class="pun" style="color: #666600;">.</span><span class="pln" style="color: black;">xml<br />&nbsp; &nbsp;</span><span class="lit" style="color: #006666;">7</span><span class="pun" style="color: #666600;">:</span><span class="lit" style="color: #006666;">19</span><span class="pln" style="color: black;"> </span><span class="typ" style="color: #660066;">The</span><span class="pln" style="color: black;"> root</span><span class="pun" style="color: #666600;">-</span><span class="pln" style="color: black;">level </span><span class="pun" style="color: #666600;">&lt;</span><span class="typ" style="color: #660066;">FrameLayout</span><span class="pun" style="color: #666600;">/&gt;</span><span class="pln" style="color: black;"> can be replaced </span><span class="kwd" style="color: #000088;">with</span><span class="pln" style="color: black;"> </span><span class="pun" style="color: #666600;">&lt;</span><span class="pln" style="color: black;">merge</span><span class="pun" style="color: #666600;">/&gt;</span><span class="pln" style="color: black;"><br />&nbsp; &nbsp;</span><span class="lit" style="color: #006666;">11</span><span class="pun" style="color: #666600;">:</span><span class="lit" style="color: #006666;">17</span><span class="pln" style="color: black;"> </span><span class="typ" style="color: #660066;">This</span><span class="pln" style="color: black;"> </span><span class="typ" style="color: #660066;">LinearLayout</span><span class="pln" style="color: black;"> layout </span><span class="kwd" style="color: #000088;">or</span><span class="pln" style="color: black;"> its </span><span class="typ" style="color: #660066;">FrameLayout</span><span class="pln" style="color: black;"> parent </span><span class="kwd" style="color: #000088;">is</span><span class="pln" style="color: black;"> useless</span></span></pre><br /><br />Reference Article.<br />1.&nbsp;http://developer.android.com/guide/developing/debugging/debugging-ui.html#layoutopt<br />2.&nbsp;http://mobile.tutsplus.com/tutorials/android/android-sdk-tools-layout-optimization/</div>