---
layout: post
title: 'AWS SDK for Java - Tutorial 5 : CloudFront'
date: '2013-10-24T15:10:00.000+05:30'
author: Ketan Parmar
tags:
- aws sdk
- aws java
- cloudfront
- amazon
- aws java sdk
- cf
- aws
modified_time: '2013-10-24T15:10:27.789+05:30'
thumbnail: http://3.bp.blogspot.com/-XIqcmfy27cE/UkrIeWLRzcI/AAAAAAAAEf8/bBwsCuNdx9k/s72-c/unnamed.png
blogger_id: tag:blogger.com,1999:blog-17114597.post-183228120043473832
blogger_orig_url: http://www.kpbird.com/2013/10/aws-sdk-for-java-tutorial-5-cloudfront.html
---

<div class="separator" style="clear: both; text-align: center;"><a href="http://3.bp.blogspot.com/-XIqcmfy27cE/UkrIeWLRzcI/AAAAAAAAEf8/bBwsCuNdx9k/s1600/unnamed.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" src="http://3.bp.blogspot.com/-XIqcmfy27cE/UkrIeWLRzcI/AAAAAAAAEf8/bBwsCuNdx9k/s1600/unnamed.png" /></a></div><br /><span style="font-family: Courier New, Courier, monospace;"><b>Introduction</b></span><br /><span style="font-family: Courier New, Courier, monospace;"><br /></span><span style="font-family: Courier New, Courier, monospace;">Amazon CloudFront is a web service for content delivery. It integrates with other Amazon Web Services to give developers and businesses an easy way to distribute content to end users with low latency, high data transfer speeds, and no commitments.</span><br /><span style="font-family: Courier New, Courier, monospace;"><br /></span><span style="font-family: Courier New, Courier, monospace;"><b>Classes</b></span><br /><br /><ul><li><span style="font-family: 'Courier New', Courier, monospace;"><a href="http://docs.aws.amazon.com/AWSJavaSDK/latest/javadoc/com/amazonaws/services/cloudfront/AmazonCloudFrontClient.html" target="_blank">AmazonCloudFrontClient</a></span></li><li><span style="font-family: 'Courier New', Courier, monospace;"><a href="http://docs.aws.amazon.com/AWSJavaSDK/latest/javadoc/com/amazonaws/services/cloudfront/model/DistributionConfig.html" target="_blank">DistributionConfig</a></span></li><li><span style="font-family: 'Courier New', Courier, monospace;"><a href="http://docs.aws.amazon.com/AWSJavaSDK/latest/javadoc/com/amazonaws/services/cloudfront/model/Aliases.html" target="_blank">Aliases</a></span></li><li><span style="font-family: 'Courier New', Courier, monospace;"><a href="http://docs.aws.amazon.com/AWSJavaSDK/latest/javadoc/com/amazonaws/services/cloudfront/model/Origins.html" target="_blank">Origins</a></span></li><li><span style="font-family: 'Courier New', Courier, monospace;"><a href="http://docs.aws.amazon.com/AWSJavaSDK/latest/javadoc/com/amazonaws/services/cloudfront/model/S3OriginConfig.html" target="_blank">S3OriginConfig</a></span></li><li><span style="font-family: 'Courier New', Courier, monospace;"><a href="http://docs.aws.amazon.com/AWSJavaSDK/latest/javadoc/com/amazonaws/services/cloudfront/model/DefaultCacheBehavior.html" target="_blank">DefaultCacheBehavior</a></span></li><li><span style="font-family: 'Courier New', Courier, monospace;"><a href="http://docs.aws.amazon.com/AWSJavaSDK/latest/javadoc/com/amazonaws/services/cloudfront/model/ForwardedValues.html" target="_blank">ForwardedValues</a></span></li><li><span style="font-family: 'Courier New', Courier, monospace;"><a href="http://docs.aws.amazon.com/AWSJavaSDK/latest/javadoc/com/amazonaws/services/cloudfront/model/TrustedSigners.html" target="_blank">TrustedSigners</a></span></li><li><span style="font-family: 'Courier New', Courier, monospace;"><a href="http://docs.aws.amazon.com/AWSJavaSDK/latest/javadoc/com/amazonaws/services/cloudfront/model/CacheBehaviors.html" target="_blank">CacheBehaviors</a></span></li><li><span style="font-family: 'Courier New', Courier, monospace;"><a href="http://docs.aws.amazon.com/AWSJavaSDK/latest/javadoc/com/amazonaws/services/cloudfront/model/LoggingConfig.html" target="_blank">LoggingConfig</a></span></li><li><span style="font-family: 'Courier New', Courier, monospace;"><a href="http://docs.aws.amazon.com/AWSJavaSDK/latest/javadoc/com/amazonaws/services/cloudfront/model/CreateDistributionRequest.html" target="_blank">CreateDistributionRequest</a></span></li><li><span style="font-family: 'Courier New', Courier, monospace;"><a href="http://docs.aws.amazon.com/AWSJavaSDK/latest/javadoc/com/amazonaws/services/cloudfront/model/CreateDistributionResult.html" target="_blank">CreateDistributionResult</a></span></li><li><span style="font-family: 'Courier New', Courier, monospace;"><a href="http://docs.aws.amazon.com/AWSJavaSDK/latest/javadoc/com/amazonaws/services/cloudfront/model/GetDistributionResult.html" target="_blank">GetDistributionResult</a></span></li><li><span style="font-family: 'Courier New', Courier, monospace;"><a href="http://docs.aws.amazon.com/AWSJavaSDK/latest/javadoc/com/amazonaws/services/cloudfront/model/GetDistributionRequest.html" target="_blank">GetDistributionRequest</a></span></li></ul><br /><span style="font-family: Courier New, Courier, monospace;"><b>Source Code</b></span><br /><span style="font-family: Courier New, Courier, monospace;"><br /></span><span style="font-family: Courier New, Courier, monospace;"><b>Step 1:</b> Variables</span><br /><pre class="brush:java">// Cloud Front <br />    private String cloudFrontDesc = "this is description";<br />    private String cloudFrontS3Origin= "aws-tutorials";<br />    private long cloudFrontMinTTL=36000;<br /></pre><br /> <span style="font-family: Courier New, Courier, monospace;"><b>Step 2:</b> Create CloudFront with S3 bucket as origin</span><br /><pre class="brush:java">public void createCloudFront(){<br />  try {<br />    log.Info("Create CloudFront Distribution For Download");<br />    AmazonCloudFrontClient cloudfront = new AmazonCloudFrontClient(credentials);<br />    cloudfront.setEndpoint(endPoint);<br />    cloudfront.setRegion(region);<br /><br />    DistributionConfig dc = new DistributionConfig();<br />    dc.withCallerReference(System.currentTimeMillis() + "");<br />    dc.withAliases(new Aliases().withQuantity(0));<br />    dc.withDefaultRootObject("");<br />    dc.withOrigins(new Origins().withItems(<br />      new Origin().withId(cloudFrontS3Origin).withDomainName(cloudFrontS3Origin+ ".s3.amazonaws.com").withS3OriginConfig(new S3OriginConfig().withOriginAccessIdentity("")))<br />      .withQuantity(1));<br />    dc.withDefaultCacheBehavior(new DefaultCacheBehavior()<br />      .withTargetOriginId(cloudFrontS3Origin)<br />      .withForwardedValues(new ForwardedValues().withQueryString(false).withCookies(new CookiePreference().withForward("none")))<br />      .withTrustedSigners(new TrustedSigners().withQuantity(0).withEnabled(false))<br />      .withViewerProtocolPolicy(ViewerProtocolPolicy.AllowAll)<br />      .withMinTTL(cloudFrontMinTTL));<br />    dc.withCacheBehaviors(new CacheBehaviors().withQuantity(0));<br />    dc.withComment(cloudFrontDesc);<br />    dc.withLogging(new LoggingConfig().withEnabled(false).withBucket("").withPrefix("").withIncludeCookies(false));<br />    dc.withEnabled(true);<br />    dc.withPriceClass(PriceClass.PriceClass_All);<br /><br />    CreateDistributionRequest cdr = new CreateDistributionRequest().withDistributionConfig(dc);<br /><br />    CreateDistributionResult distribution = cloudfront.createDistribution(cdr);<br /><br />    boolean isWait = true;<br />    while (isWait) {<br />     Thread.sleep(5000);<br />     GetDistributionResult gdr = cloudfront.getDistribution(new GetDistributionRequest(distribution.getDistribution().getId()));<br />     String status = gdr.getDistribution().getStatus();<br />     log.Info("Status :" + status);<br />     if (status.equals("Deployed")) {<br />      isWait = false;<br />      log.Info("Domain Name :" + gdr.getDistribution().getDomainName());<br />     }<br />    }<br /><br />   <br /><br />  } catch (Exception e) {<br />   e.printStackTrace();<br />   System.exit(0);<br />  }<br /> }<br /></pre><br /><span style="font-family: Courier New, Courier, monospace;"><br /></span><span style="font-family: Courier New, Courier, monospace;"><b>Screen Shots</b></span><br /><div class="separator" style="clear: both; text-align: center;"><a href="http://2.bp.blogspot.com/-lYuFoTfnQxM/UmjqePGyQjI/AAAAAAAAEjs/dx5ums4j1gI/s1600/cf.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" height="64" src="http://2.bp.blogspot.com/-lYuFoTfnQxM/UmjqePGyQjI/AAAAAAAAEjs/dx5ums4j1gI/s640/cf.png" width="640" /></a></div><span style="font-family: Courier New, Courier, monospace;"><br /></span><span style="font-family: Courier New, Courier, monospace; font-size: large;"><a href="https://github.com/kpbird/AWS-EC2-Java-Tutorial" target="_blank"><b>Source Code</b></a></span>