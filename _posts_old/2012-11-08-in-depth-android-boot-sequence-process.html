---
layout: post
title: 'In Depth : Android Boot Sequence / Process '
date: '2012-11-08T16:37:00.000+05:30'
author: Ketan Parmar
tags:
- boot process
- Android boot sequence
- boot sequence
- Android
- indepth
- android boot process
modified_time: '2013-01-18T16:28:15.540+05:30'
thumbnail: http://4.bp.blogspot.com/-uT2NBaV8WG8/UJuO0syJhnI/AAAAAAAADgI/0CkrBvjyNDY/s72-c/Android+Boot+Squence.png
blogger_id: tag:blogger.com,1999:blog-17114597.post-6091072067332018300
blogger_orig_url: http://www.kpbird.com/2012/11/in-depth-android-boot-sequence-process.html
---

<div dir="ltr" style="text-align: left;" trbidi="on"><br /><span style="font-family: Arial;"><span style="font-size: 15px; white-space: pre-wrap;">What happened when I press power on button in my Android device ?</span></span><br /><span style="font-family: Arial;"><span style="font-size: 15px; white-space: pre-wrap;">What is Android boot sequence ?</span></span><br /><span style="font-family: Arial;"><span style="font-size: 15px; white-space: pre-wrap;">What is linux kernel ?</span></span><br /><span style="font-family: Arial;"><span style="font-size: 15px; white-space: pre-wrap;">What is different between desktop linux kernel and Android linux kernel ?</span></span><br /><span style="font-family: Arial;"><span style="font-size: 15px; white-space: pre-wrap;">What is bootloader ?</span></span><br /><span style="font-family: Arial;"><span style="font-size: 15px; white-space: pre-wrap;">What is Zygote ?</span></span><br /><span style="font-family: Arial;"><span style="font-size: 15px; white-space: pre-wrap;">What is x86 and ARM linux ?</span></span><br /><span style="font-family: Arial;"><span style="font-size: 15px; white-space: pre-wrap;">What is init.rc ?</span></span><br /><span style="font-family: Arial;"><span style="font-size: 15px; white-space: pre-wrap;">What is System Server ?</span></span><br /><span style="font-family: Arial;"><span style="font-size: 15px; white-space: pre-wrap;"><br /></span></span><span style="font-family: Arial;"><span style="font-size: 15px; white-space: pre-wrap;">Many questions pop-up in mind when we think about Android boot sequence.</span></span><br /><div style="text-align: justify;"><span style="font-family: Arial;"><span style="font-size: 15px; white-space: pre-wrap;"><br /></span></span></div><div style="text-align: justify;"><span style="font-family: Arial;"><span style="font-size: 15px; white-space: pre-wrap;">Here I am explaining Android boot process. I hope you will find answer of above questions.</span></span></div><div style="text-align: justify;"><span style="font-family: Arial;"><span style="font-size: 15px; white-space: pre-wrap;"><br /></span></span></div><br /><a name='more'></a><br /><br /><div style="font-family: Arial; text-align: justify;"><span style="font-size: 15px; white-space: pre-wrap;">Android is linux based open source operating system, <a href="http://en.wikipedia.org/wiki/X86" target="_blank">x86</a> (x86 is a series of computer microprocessor instruction set architectures based on the Intel 8086 CPU.) is most likely system where linux kernel is deployed however all Android devices are running on <a href="http://en.wikipedia.org/wiki/ARM" target="_blank">ARM process</a> (ARM (formerly Advanced RISC Machine, which was formerly Acorn RISC Machine)) except Intel’s Xolo device (<a href="http://xolo.in/xolo-x900-features">http://xolo.in/xolo-x900-features</a>). Xolo comes with Atom 1.6 GHz x86 processor. Android boot sequence or I can say embedded device or ARM based linux has minor difference compare to desktop version. &nbsp;In this article I am going to explain boot sequence for Android only. <a href="http://www.ibm.com/developerworks/linux/library/l-linuxboot/" target="_blank">Inside the linux boot process</a> is good article for desktop based linux boot sequence.</span></div><div style="font-family: Arial; font-size: 15px; text-align: justify; white-space: pre-wrap;"><b id="internal-source-marker_0.6681749848648906" style="font-family: Times; font-size: medium; font-weight: normal; text-align: start; white-space: normal;"><span style="font-family: Arial; font-size: 15px; vertical-align: baseline; white-space: pre-wrap;">Android device execute following steps when you press power switch</span></b></div><table align="center" cellpadding="0" cellspacing="0" class="tr-caption-container" style="font-family: Arial; margin-left: auto; margin-right: auto; text-align: center;"><tbody><tr><td style="text-align: center;"><a href="http://4.bp.blogspot.com/-uT2NBaV8WG8/UJuO0syJhnI/AAAAAAAADgI/0CkrBvjyNDY/s1600/Android+Boot+Squence.png" imageanchor="1" style="margin-left: auto; margin-right: auto;"><img alt="Android Boot Sequence / Process" border="0" height="400" src="http://4.bp.blogspot.com/-uT2NBaV8WG8/UJuO0syJhnI/AAAAAAAADgI/0CkrBvjyNDY/s400/Android+Boot+Squence.png" title="Android Boot Sequence / Process" width="377" /></a></td></tr><tr><td class="tr-caption" style="text-align: center;">Android Boot Sequence / Process</td></tr></tbody></table><div style="font-family: Arial; font-size: 15px; text-align: justify; white-space: pre-wrap;"><b id="internal-source-marker_0.6681749848648906" style="font-family: Times; font-size: medium; font-weight: normal; text-align: start; white-space: normal;"><span style="font-family: Arial; font-size: 15px; font-weight: bold; vertical-align: baseline; white-space: pre-wrap;"><strong>Step 1 : Power On and System Startup</strong> </span><br /><span style="font-family: Arial; font-size: 15px; font-weight: bold; vertical-align: baseline; white-space: pre-wrap;"></span><br /><span style="font-family: Arial; font-size: 15px; vertical-align: baseline; white-space: pre-wrap;">When power start Boot ROM code start execution from pre defined location which is hardwired on ROM. It load Bootloader into RAM and start execution</span><br /><span style="font-family: Arial; font-size: 15px; font-weight: bold; vertical-align: baseline; white-space: pre-wrap;"></span><br /><span style="font-family: Arial; font-size: 15px; font-weight: bold; vertical-align: baseline; white-space: pre-wrap;"><strong>Step 2 : Bootloader</strong></span><br /><span style="font-family: Arial; font-size: 15px; font-weight: bold; vertical-align: baseline; white-space: pre-wrap;"></span><br /><span style="font-family: Arial; font-size: 15px; vertical-align: baseline; white-space: pre-wrap;">Bootloader is small program which runs before Android operating system running. Bootloader is first program to run so It is specific for board and processor. Device manufacturer either use popular bootloaders like </span><a href="http://ecos.sourceware.org/redboot/"><span style="color: #1155cc; font-family: Arial; font-size: 15px; vertical-align: baseline; white-space: pre-wrap;">redboot</span></a><span style="font-family: Arial; font-size: 15px; vertical-align: baseline; white-space: pre-wrap;">,</span><a href="http://www.denx.de/wiki/U-Boot"><span style="color: #1155cc; font-family: Arial; font-size: 15px; vertical-align: baseline; white-space: pre-wrap;">uboot</span></a><span style="font-family: Arial; font-size: 15px; vertical-align: baseline; white-space: pre-wrap;">, </span><a href="http://wiki.openmoko.org/wiki/Qi"><span style="color: #1155cc; font-family: Arial; font-size: 15px; vertical-align: baseline; white-space: pre-wrap;">qi bootloader</span></a><span style="font-family: Arial; font-size: 15px; vertical-align: baseline; white-space: pre-wrap;"> or they develop own bootloaders, It’s not part of Android Operating System. bootloader is the place where OEMs and Carriers put there locks and restrictions. </span><br /><span style="font-family: Arial; font-size: 15px; vertical-align: baseline; white-space: pre-wrap;"></span><br /><span style="font-family: Arial; font-size: 15px; vertical-align: baseline; white-space: pre-wrap;">Bootloader perform execution in two stages, first stage It to detect external RAM and load program which helps in second stage, In second stage bootloader setup network, memory, etc. which requires to run kernel, bootloader is able to provide configuration parameters or inputs to the kernel for specific purpose. &nbsp;</span><br /><span style="font-family: Arial; font-size: 15px; vertical-align: baseline; white-space: pre-wrap;"></span><br /><span style="font-family: Arial; font-size: 15px; vertical-align: baseline; white-space: pre-wrap;">Android bootloader can be found at&nbsp;</span></b></div><div style="font-size: 15px; text-align: justify; white-space: pre-wrap;"><b style="font-size: medium; font-weight: normal; text-align: start; white-space: normal;"><span style="font-size: 15px; vertical-align: baseline; white-space: pre-wrap;"><span style="font-family: Courier New, Courier, monospace;">&lt;Android Source&gt;\bootable\bootloader\legacy\usbloader</span></span></b><b style="font-size: medium; font-weight: normal; text-align: start; white-space: normal;"><span style="font-family: Arial; font-size: 15px; vertical-align: baseline; white-space: pre-wrap;">legacy loader contain two important files that need to address here.</span></b></div><div style="font-size: 15px; text-align: justify; white-space: pre-wrap;"><b style="font-size: medium; font-weight: normal; text-align: start; white-space: normal;"><span style="font-family: Arial; font-size: 15px; vertical-align: baseline; white-space: pre-wrap;">1. init.s - Initializes stacks, zeros the BSS segments, call _main() in main.c</span><br /><span style="font-family: Arial; font-size: 15px; vertical-align: baseline; white-space: pre-wrap;">2. main.c - Initializes hardware (clocks, board, keypad, console), creates Linux tags</span><br /><span style="font-family: Arial; font-size: 15px; vertical-align: baseline; white-space: pre-wrap;"></span><br /><span style="font-family: Arial; font-size: 15px; vertical-align: baseline; white-space: pre-wrap;">Refer this link to know more about Android bootloader :</span><br /><a href="https://motorola-global-portal.custhelp.com/app/answers/detail/a_id/86208/~/bootloader-frequently-asked-questions" style="font-family: Times;"><span style="color: #1155cc; font-family: Arial; font-size: 15px; vertical-align: baseline; white-space: pre-wrap;">https://motorola-global-portal.custhelp.com/app/answers/detail/a_id/86208/~/bootloader-frequently-asked-questions</span></a><span style="font-family: Arial; font-size: 15px; vertical-align: baseline; white-space: pre-wrap;"></span><br /><span style="font-family: Arial; font-size: 15px; font-weight: bold; vertical-align: baseline; white-space: pre-wrap;"></span><br /><span style="font-family: Arial; font-size: 15px; font-weight: bold; vertical-align: baseline; white-space: pre-wrap;">Step 3: Kernel</span><br /><span style="font-family: Arial; font-size: 15px; font-weight: bold; vertical-align: baseline; white-space: pre-wrap;"></span><br /><span style="font-family: Arial; font-size: 15px; vertical-align: baseline; white-space: pre-wrap;">Android kernel start similar way as desktop linux kernel starts, as kernel launch it start setup cache, protected memory, scheduling, loads drivers. When kernel finish system setup first thing it look for “init” in system files and launch root process or first process of system. &nbsp;</span><br /><span style="font-family: Arial; font-size: 15px; font-weight: bold; vertical-align: baseline; white-space: pre-wrap;"></span><br /><span style="font-family: Arial; font-size: 15px; font-weight: bold; vertical-align: baseline; white-space: pre-wrap;">Step 4: init process</span><br /><span style="font-family: Arial; font-size: 15px; font-weight: bold; vertical-align: baseline; white-space: pre-wrap;"></span><br /><span style="font-family: Arial; font-size: 15px; vertical-align: baseline; white-space: pre-wrap;">init it very first process, we can say it is root process or grandmother of all processes. init process has two responsibilities 1. mount directories like /sys, /dev, /proc and 2. run init.rc script.</span><br /><span style="font-family: Arial; font-size: 15px; vertical-align: baseline; white-space: pre-wrap;"></span></b><br /><ul style="margin-bottom: 0pt; margin-top: 0pt;"><b style="font-size: medium; font-weight: normal; text-align: start; white-space: normal;"><li style="font-size: 15px; list-style-type: disc; vertical-align: baseline;"><a href="https://android.googlesource.com/platform/system/core/+/android-4.1.2_r1/init" style="font-family: Arial;"><span style="color: #1155cc; vertical-align: baseline; white-space: pre-wrap;">init</span></a><span style="vertical-align: baseline; white-space: pre-wrap;"><span style="font-family: Arial;"> process can be found at init : </span><span style="font-family: Courier New, Courier, monospace;">&lt;android source&gt;/system/core/init</span></span></li><li style="font-size: 15px; list-style-type: disc; vertical-align: baseline;"><a href="https://android.googlesource.com/platform/system/core/+/android-4.1.2_r1/rootdir/init.rc" style="font-family: Arial;"><span style="color: #1155cc; vertical-align: baseline; white-space: pre-wrap;">init.rc</span></a><span style="vertical-align: baseline; white-space: pre-wrap;"><span style="font-family: Arial;"> file can be found in source tree at </span><span style="font-family: Courier New, Courier, monospace;">&lt;android source&gt;/system/core/rootdir/init.rc</span></span></li><li style="font-size: 15px; list-style-type: disc; vertical-align: baseline;"><a href="https://android.googlesource.com/platform/system/core/+/android-4.1.2_r1/init/readme.txt" style="font-family: Arial;"><span style="color: #1155cc; vertical-align: baseline; white-space: pre-wrap;">readme.txt </span></a><span style="vertical-align: baseline; white-space: pre-wrap;"><span style="font-family: Arial;">file can be found in source tree at </span><span style="font-family: Courier New, Courier, monospace;">&lt;andorid source&gt;/system/core/init/readme.txt</span></span></li></b></ul><b style="font-size: medium; font-weight: normal; text-align: start; white-space: normal;"><span style="font-family: Arial; font-size: 15px; vertical-align: baseline; white-space: pre-wrap;"></span><br /><span style="font-family: Arial; font-size: 15px; vertical-align: baseline; white-space: pre-wrap;">Android has specific format and rules for init.rc files. In Android we call it as “Android Init Language” </span><br /><span style="font-family: Arial; font-size: 15px; vertical-align: baseline; white-space: pre-wrap;"></span><br /><span style="font-family: Arial; font-size: 15px; vertical-align: baseline; white-space: pre-wrap;">The Android Init Language consists of four broad classes of statements,which are Actions, Commands, Services, and Options.</span><br /><span style="font-family: Arial; font-size: 15px; vertical-align: baseline; white-space: pre-wrap;"></span><br /><span style="font-family: Arial; font-size: 15px; font-weight: bold; vertical-align: baseline; white-space: pre-wrap;">Action</span><span style="font-family: Arial; font-size: 15px; vertical-align: baseline; white-space: pre-wrap;"> : Actions are named sequences of commands. &nbsp;Actions have a trigger which is used to determine when the action should occur.</span><br /><span style="font-family: Arial; font-size: 15px; vertical-align: baseline; white-space: pre-wrap;"></span><br /><span style="font-family: Arial; font-size: 15px; vertical-align: baseline; white-space: pre-wrap;">Syntax </span><br /><span style="font-family: Arial; font-size: 15px; vertical-align: baseline; white-space: pre-wrap;">on &lt;trigger&gt;</span><br /><span style="font-family: Arial; font-size: 15px; vertical-align: baseline; white-space: pre-wrap;"> &nbsp;&nbsp;&lt;command&gt;</span><br /><span style="font-family: Arial; font-size: 15px; vertical-align: baseline; white-space: pre-wrap;"> &nbsp;&nbsp;&lt;command&gt;</span><br /><span style="font-family: Arial; font-size: 15px; vertical-align: baseline; white-space: pre-wrap;"> &nbsp;&nbsp;&lt;command&gt;</span><br /><span style="font-family: Arial; font-size: 15px; vertical-align: baseline; white-space: pre-wrap;"></span><br /><span style="font-family: Arial; font-size: 15px; font-weight: bold; vertical-align: baseline; white-space: pre-wrap;">Service : &nbsp;</span><span style="font-family: Arial; font-size: 15px; vertical-align: baseline; white-space: pre-wrap;">Services are programs which init launches and (optionally) restarts when they exit. &nbsp;Syntax</span><br /><span style="font-family: Arial; font-size: 15px; vertical-align: baseline; white-space: pre-wrap;"></span><br /><span style="font-family: Arial; font-size: 15px; vertical-align: baseline; white-space: pre-wrap;">service &lt;name&gt; &lt;pathname&gt; [ &lt;argument&gt; ]*</span><br /><span style="font-family: Arial; font-size: 15px; vertical-align: baseline; white-space: pre-wrap;"> &nbsp;&nbsp;&lt;option&gt;</span><br /><span style="font-family: Arial; font-size: 15px; vertical-align: baseline; white-space: pre-wrap;"> &nbsp;&nbsp;&lt;option&gt;</span><br /><span style="font-family: Arial; font-size: 15px; vertical-align: baseline; white-space: pre-wrap;"> &nbsp;&nbsp;...</span><br /><span style="font-family: Arial; font-size: 15px; vertical-align: baseline; white-space: pre-wrap;"></span><br /><span style="font-family: Arial; font-size: 15px; font-weight: bold; vertical-align: baseline; white-space: pre-wrap;">Options :</span><span style="font-family: Arial; font-size: 15px; vertical-align: baseline; white-space: pre-wrap;"> Options are modifiers to services. &nbsp;They affect how and when init runs the service.</span><br /><span style="font-family: Arial; font-size: 15px; vertical-align: baseline; white-space: pre-wrap;"></span><br /><span style="font-family: Arial; font-size: 15px; vertical-align: baseline; white-space: pre-wrap;">Let’s take a look of default init.rc file. Here I have listed only major events and services.</span></b></div><div style="text-align: justify;"><b style="font-weight: normal; text-align: start;"><span style="font-family: Arial;"><span style="font-size: 15px; white-space: pre-wrap;"><br /></span></span><span style="font-family: Arial; font-size: 15px; vertical-align: baseline; white-space: pre-wrap;"></span></b><br /><div dir="ltr" style="font-family: Times; font-size: medium; white-space: normal;"><table style="border-collapse: collapse; border: none;"><colgroup><col width="204"></col><col width="420"></col></colgroup><tbody><tr style="height: 0px;"><td style="border: 1px solid rgb(0, 0, 0); padding: 7px; vertical-align: top;"><span style="font-family: Arial; font-size: 15px; font-weight: bold; vertical-align: baseline; white-space: pre-wrap;">Action / Service</span></td><td style="border: 1px solid rgb(0, 0, 0); padding: 7px; vertical-align: top;"><span style="font-family: Arial; font-size: 15px; font-weight: bold; vertical-align: baseline; white-space: pre-wrap;">Description</span></td></tr><tr style="height: 0px;"><td style="border: 1px solid rgb(0, 0, 0); padding: 7px; vertical-align: top;"><span style="font-family: Arial; font-size: 15px; vertical-align: baseline; white-space: pre-wrap;">on early-init</span></td><td style="border: 1px solid rgb(0, 0, 0); padding: 7px; vertical-align: top;"><span style="font-family: Arial; font-size: 15px; vertical-align: baseline; white-space: pre-wrap;">Set init and its forked children's oom_adj.</span><br /><span style="font-family: Arial; font-size: 15px; vertical-align: baseline; white-space: pre-wrap;">Set the security context for the init process.</span></td></tr><tr style="height: 0px;"><td style="border: 1px solid rgb(0, 0, 0); padding: 7px; vertical-align: top;"><span style="font-family: Arial; font-size: 15px; vertical-align: baseline; white-space: pre-wrap;">on init</span></td><td style="border: 1px solid rgb(0, 0, 0); padding: 7px; vertical-align: top;"><span style="font-family: Arial; font-size: 15px; vertical-align: baseline; white-space: pre-wrap;">setup the global environment</span><br /><span style="font-family: Arial; font-size: 15px; vertical-align: baseline; white-space: pre-wrap;">Create cgroup mount point for cpu accounting</span><br /><span style="font-family: Arial; font-size: 15px; vertical-align: baseline; white-space: pre-wrap;">and many</span></td></tr><tr style="height: 0px;"><td style="border: 1px solid rgb(0, 0, 0); padding: 7px; vertical-align: top;"><span style="font-family: Arial; font-size: 15px; vertical-align: baseline; white-space: pre-wrap;">on fs</span></td><td style="border: 1px solid rgb(0, 0, 0); padding: 7px; vertical-align: top;"><span style="font-family: Arial; font-size: 15px; vertical-align: baseline; white-space: pre-wrap;">mount mtd partitions</span></td></tr><tr style="height: 0px;"><td style="border: 1px solid rgb(0, 0, 0); padding: 7px; vertical-align: top;"><span style="font-family: Arial; font-size: 15px; vertical-align: baseline; white-space: pre-wrap;">on post-fs</span></td><td style="border: 1px solid rgb(0, 0, 0); padding: 7px; vertical-align: top;"><span style="font-family: Arial; font-size: 15px; vertical-align: baseline; white-space: pre-wrap;">change permissions of system directories</span></td></tr><tr style="height: 0px;"><td style="border: 1px solid rgb(0, 0, 0); padding: 7px; vertical-align: top;"><span style="font-family: Arial; font-size: 15px; vertical-align: baseline; white-space: pre-wrap;">on post-fs-data</span></td><td style="border: 1px solid rgb(0, 0, 0); padding: 7px; vertical-align: top;"><span style="font-family: Arial; font-size: 15px; vertical-align: baseline; white-space: pre-wrap;">change permission of /data folders and sub folders</span></td></tr><tr style="height: 0px;"><td style="border: 1px solid rgb(0, 0, 0); padding: 7px; vertical-align: top;"><span style="font-family: Arial; font-size: 15px; vertical-align: baseline; white-space: pre-wrap;">on boot</span></td><td style="border: 1px solid rgb(0, 0, 0); padding: 7px; vertical-align: top;"><span style="font-family: Arial; font-size: 15px; vertical-align: baseline; white-space: pre-wrap;">basic network init ,Memory Management ,etc</span></td></tr><tr style="height: 0px;"><td style="border: 1px solid rgb(0, 0, 0); padding: 7px; vertical-align: top;"><span style="font-family: Arial; font-size: 15px; vertical-align: baseline; white-space: pre-wrap;">service servicemanager</span></td><td style="border: 1px solid rgb(0, 0, 0); padding: 7px; vertical-align: top;"><span style="font-family: Arial; font-size: 15px; vertical-align: baseline; white-space: pre-wrap;">start system manager to manage all native services like location, audio, shared preference etc..</span></td></tr><tr style="height: 0px;"><td style="border: 1px solid rgb(0, 0, 0); padding: 7px; vertical-align: top;"><span style="font-family: Arial; font-size: 15px; vertical-align: baseline; white-space: pre-wrap;">service zygote</span></td><td style="border: 1px solid rgb(0, 0, 0); padding: 7px; vertical-align: top;"><span style="font-family: Arial; font-size: 15px; vertical-align: baseline; white-space: pre-wrap;">start zygote as app_process</span></td></tr></tbody></table></div><b style="font-weight: normal; text-align: start;"><br /><span style="font-family: Arial; font-size: 15px; vertical-align: baseline; white-space: pre-wrap;">At this stage you can see “Android” logo on device screen.</span><br /><span style="font-family: Arial; font-size: 15px; font-weight: bold; vertical-align: baseline; white-space: pre-wrap;"></span><br /><span style="font-family: Arial; font-size: 15px; font-weight: bold; vertical-align: baseline; white-space: pre-wrap;">Step 5: Zygote and Dalvik</span><br /><span style="font-family: Arial; font-size: 15px; font-weight: bold; vertical-align: baseline; white-space: pre-wrap;"></span></b><br /><div dir="ltr" style="font-family: Times; font-size: medium; margin-bottom: 0pt; margin-top: 0pt; text-align: justify; white-space: normal;"><b style="font-weight: normal; text-align: start;"><span style="font-family: Arial; font-size: 15px; vertical-align: baseline; white-space: pre-wrap;">In a Java, We know that separate Virtual Machine(VMs) instance will popup in memory for separate per app, In case of Android app should launch as quick as possible, If Android os launch different instance of Dalvik VM for every app then it consume lots of memory and time. so, to overcome this problem Android OS as system named “Zygote”. Zygote enable shared code across Dalvik VM, lower memory footprint and minimal startup time. Zygote is a VM process that starts at system boot time as we know in previous step. Zygote preloads and initialize core library classes. &nbsp;Normally there core classes are read-only and part of Android SDK or Core frameworks. In Java VM each instance has it’s own copy of core library class files and heap objects. </span></b></div><b style="font-weight: normal; text-align: start;"><span style="font-family: Arial; font-size: 15px; vertical-align: baseline; white-space: pre-wrap;"></span></b><br /><div dir="ltr" style="font-family: Times; font-size: medium; margin-bottom: 0pt; margin-top: 0pt; text-align: justify; white-space: normal;"><b style="font-weight: normal; text-align: start;"><span style="font-family: Arial; font-size: 15px; vertical-align: baseline; white-space: pre-wrap;">Zygote loading process</span></b></div><b style="font-weight: normal; text-align: start;"><span style="font-family: Arial; font-size: 15px; vertical-align: baseline; white-space: pre-wrap;"></span><br /><span style="font-family: Arial; font-size: 15px; vertical-align: baseline; white-space: pre-wrap;">1. Load </span><a href="http://grepcode.com/file/repository.grepcode.com/java/ext/com.google.android/android/2.2_r1.1/com/android/internal/os/ZygoteInit.java" style="font-family: Times; font-size: medium; white-space: normal;"><span style="color: #1155cc; font-family: Arial; font-size: 15px; vertical-align: baseline; white-space: pre-wrap;">ZygoteInit</span></a><span style="font-family: Arial; font-size: 15px; vertical-align: baseline; white-space: pre-wrap;"> class, </span><br /><span style="font-size: 15px; vertical-align: baseline; white-space: pre-wrap;"><span style="font-family: Courier New, Courier, monospace;">Source Code :&lt;Android Source&gt; /frameworks/base/core/java/com/android/internal/os/ZygoteInit.java</span></span><br /><span style="font-family: Arial; font-size: 15px; vertical-align: baseline; white-space: pre-wrap;">2. registerZygoteSocket() - &nbsp;Registers a server socket for zygote command connections</span><br /><span style="font-family: Arial; font-size: 15px; vertical-align: baseline; white-space: pre-wrap;">3. preloadClasses() - “preloaded-classes” is simple text file contains list of classes that need to be preloaded, you cna find “preloaded-classes” file at &lt;Android Source&gt;/frameworks/base</span><br /><span style="font-family: Arial; font-size: 15px; vertical-align: baseline; white-space: pre-wrap;">4. preloadResources() - preloadReaources means native themes and layouts, everything that include android.R file will be load using this method.</span><br /><span style="font-family: Arial; font-size: 15px; vertical-align: baseline; white-space: pre-wrap;"></span><br /><div dir="ltr" style="font-family: Times; font-size: medium; margin-bottom: 0pt; margin-top: 0pt; text-align: justify; white-space: normal;"><span style="font-family: Arial; font-size: 15px; vertical-align: baseline; white-space: pre-wrap;">At this time you can see bootanimation</span></div><span style="font-family: Arial; font-size: 15px; font-weight: bold; vertical-align: baseline; white-space: pre-wrap;"></span><br /><span style="font-family: Arial; font-size: 15px; font-weight: bold; vertical-align: baseline; white-space: pre-wrap;">Step 6: System &nbsp;Service or Services</span><br /><span style="font-family: Arial; font-size: 15px; font-weight: bold; vertical-align: baseline; white-space: pre-wrap;"></span><br /><div dir="ltr" style="font-family: Times; font-size: medium; margin-bottom: 0pt; margin-top: 0pt; text-align: justify; white-space: normal;"><span style="font-family: Arial; font-size: 15px; vertical-align: baseline; white-space: pre-wrap;">After complete above steps, runtime request Zygote to launch system servers. System Servers are written in native and java both, System servers we can consider as process, The same system server is available as System Services in Android SDK. System server contain all system services. </span></div><span style="font-family: Arial; font-size: 15px; vertical-align: baseline; white-space: pre-wrap;"></span><br /><div dir="ltr" style="font-family: Times; font-size: medium; margin-bottom: 0pt; margin-top: 0pt; text-align: justify; white-space: normal;"><span style="font-family: Arial; font-size: 15px; vertical-align: baseline; white-space: pre-wrap;">Zygote fork new process to launch system services. You can find source code in ZygoteInit class and “startSystemServer” method.</span></div><span style="font-family: Arial; font-size: 15px; vertical-align: baseline; white-space: pre-wrap;"></span><br /><div dir="ltr" style="font-family: Times; font-size: medium; margin-bottom: 0pt; margin-top: 0pt; text-align: justify; white-space: normal;"><span style="font-family: Arial; font-size: 15px; font-weight: bold; vertical-align: baseline; white-space: pre-wrap;">Core Services:</span></div><div dir="ltr" style="font-family: Times; font-size: medium; margin-bottom: 0pt; margin-left: 18pt; margin-top: 0pt; text-indent: -18pt; white-space: normal;"><span style="font-family: Arial; font-size: 15px; vertical-align: baseline; white-space: pre-wrap;">1. &nbsp;&nbsp;&nbsp;&nbsp;Starting Power Manager</span></div><div dir="ltr" style="font-family: Times; font-size: medium; margin-bottom: 0pt; margin-left: 18pt; margin-top: 0pt; text-indent: -18pt; white-space: normal;"><span style="font-family: Arial; font-size: 15px; vertical-align: baseline; white-space: pre-wrap;">2. &nbsp;&nbsp;&nbsp;&nbsp;Creating Activity Manager</span></div><div dir="ltr" style="font-family: Times; font-size: medium; margin-bottom: 0pt; margin-left: 18pt; margin-top: 0pt; text-indent: -18pt; white-space: normal;"><span style="font-family: Arial; font-size: 15px; vertical-align: baseline; white-space: pre-wrap;">3. &nbsp;&nbsp;&nbsp;&nbsp;Starting Telephony Registry</span></div><div dir="ltr" style="font-family: Times; font-size: medium; margin-bottom: 0pt; margin-left: 18pt; margin-top: 0pt; text-indent: -18pt; white-space: normal;"><span style="font-family: Arial; font-size: 15px; vertical-align: baseline; white-space: pre-wrap;">4. &nbsp;&nbsp;&nbsp;&nbsp;Starting Package Manager</span></div><div dir="ltr" style="font-family: Times; font-size: medium; margin-bottom: 0pt; margin-left: 18pt; margin-top: 0pt; text-indent: -18pt; white-space: normal;"><span style="font-family: Arial; font-size: 15px; vertical-align: baseline; white-space: pre-wrap;">5. &nbsp;&nbsp;&nbsp;&nbsp;Set Activity Manager Service as System Process</span></div><div dir="ltr" style="font-family: Times; font-size: medium; margin-bottom: 0pt; margin-left: 18pt; margin-top: 0pt; text-indent: -18pt; white-space: normal;"><span style="font-family: Arial; font-size: 15px; vertical-align: baseline; white-space: pre-wrap;">6. &nbsp;&nbsp;&nbsp;&nbsp;Starting Context Manager</span></div><div dir="ltr" style="font-family: Times; font-size: medium; margin-bottom: 0pt; margin-left: 18pt; margin-top: 0pt; text-indent: -18pt; white-space: normal;"><span style="font-family: Arial; font-size: 15px; vertical-align: baseline; white-space: pre-wrap;">7. &nbsp;&nbsp;&nbsp;&nbsp;Starting System Context Providers</span></div><div dir="ltr" style="font-family: Times; font-size: medium; margin-bottom: 0pt; margin-left: 18pt; margin-top: 0pt; text-indent: -18pt; white-space: normal;"><span style="font-family: Arial; font-size: 15px; vertical-align: baseline; white-space: pre-wrap;">8. &nbsp;&nbsp;&nbsp;&nbsp;Starting Battery Service</span></div><div dir="ltr" style="font-family: Times; font-size: medium; margin-bottom: 0pt; margin-left: 18pt; margin-top: 0pt; text-indent: -18pt; white-space: normal;"><span style="font-family: Arial; font-size: 15px; vertical-align: baseline; white-space: pre-wrap;">9. &nbsp;&nbsp;&nbsp;&nbsp;Starting Alarm Manager</span></div><div dir="ltr" style="font-family: Times; font-size: medium; margin-bottom: 0pt; margin-left: 18pt; margin-top: 0pt; text-indent: -18pt; white-space: normal;"><span style="font-family: Arial; font-size: 15px; vertical-align: baseline; white-space: pre-wrap;">10. &nbsp;&nbsp;Starting Sensor Service</span></div><div dir="ltr" style="font-family: Times; font-size: medium; margin-bottom: 0pt; margin-left: 18pt; margin-top: 0pt; text-indent: -18pt; white-space: normal;"><span style="font-family: Arial; font-size: 15px; vertical-align: baseline; white-space: pre-wrap;">11. &nbsp;&nbsp;Starting Window Manager</span></div><div dir="ltr" style="font-family: Times; font-size: medium; margin-bottom: 0pt; margin-left: 18pt; margin-top: 0pt; text-indent: -18pt; white-space: normal;"><span style="font-family: Arial; font-size: 15px; vertical-align: baseline; white-space: pre-wrap;">12. &nbsp;&nbsp;Starting Bluetooth Service</span></div><div dir="ltr" style="font-family: Times; font-size: medium; margin-bottom: 0pt; margin-left: 18pt; margin-top: 0pt; text-indent: -18pt; white-space: normal;"><span style="font-family: Arial; font-size: 15px; vertical-align: baseline; white-space: pre-wrap;">13. &nbsp;&nbsp;Starting Mount Service</span></div><span style="font-family: Arial; font-size: 15px; vertical-align: baseline; white-space: pre-wrap;"></span><br /><span style="font-family: Arial; font-size: 15px; font-weight: bold; vertical-align: baseline; white-space: pre-wrap;">Other services</span><br /><div dir="ltr" style="font-family: Times; font-size: medium; margin-bottom: 0pt; margin-left: 18pt; margin-top: 0pt; text-indent: -18pt; white-space: normal;"><span style="font-family: Arial; font-size: 15px; vertical-align: baseline; white-space: pre-wrap;">1. &nbsp;&nbsp;&nbsp;Starting Status Bar Service</span></div><div dir="ltr" style="font-family: Times; font-size: medium; margin-bottom: 0pt; margin-left: 18pt; margin-top: 0pt; text-indent: -18pt; white-space: normal;"><span style="font-family: Arial; font-size: 15px; vertical-align: baseline; white-space: pre-wrap;">2. &nbsp;&nbsp;&nbsp;&nbsp;Starting Hardware Service</span></div><div dir="ltr" style="font-family: Times; font-size: medium; margin-bottom: 0pt; margin-left: 18pt; margin-top: 0pt; text-indent: -18pt; white-space: normal;"><span style="font-family: Arial; font-size: 15px; vertical-align: baseline; white-space: pre-wrap;">3. &nbsp;&nbsp;&nbsp;&nbsp;Starting NetStat Service</span></div><div dir="ltr" style="font-family: Times; font-size: medium; margin-bottom: 0pt; margin-left: 18pt; margin-top: 0pt; text-indent: -18pt; white-space: normal;"><span style="font-family: Arial; font-size: 15px; vertical-align: baseline; white-space: pre-wrap;">4. &nbsp;&nbsp;&nbsp;&nbsp;Starting Connectivity Service</span></div><div dir="ltr" style="font-family: Times; font-size: medium; margin-bottom: 0pt; margin-left: 18pt; margin-top: 0pt; text-indent: -18pt; white-space: normal;"><span style="font-family: Arial; font-size: 15px; vertical-align: baseline; white-space: pre-wrap;">5. &nbsp;&nbsp;&nbsp;&nbsp;Starting Notification Manager</span></div><div dir="ltr" style="font-family: Times; font-size: medium; margin-bottom: 0pt; margin-left: 18pt; margin-top: 0pt; text-indent: -18pt; white-space: normal;"><span style="font-family: Arial; font-size: 15px; vertical-align: baseline; white-space: pre-wrap;">6. &nbsp;&nbsp;&nbsp;&nbsp;Starting DeviceStorageMonitor Service</span></div><div dir="ltr" style="font-family: Times; font-size: medium; margin-bottom: 0pt; margin-left: 18pt; margin-top: 0pt; text-indent: -18pt; white-space: normal;"><span style="font-family: Arial; font-size: 15px; vertical-align: baseline; white-space: pre-wrap;">7. &nbsp;&nbsp;&nbsp;&nbsp;Starting Location Manager</span></div><div dir="ltr" style="font-family: Times; font-size: medium; margin-bottom: 0pt; margin-left: 18pt; margin-top: 0pt; text-indent: -18pt; white-space: normal;"><span style="font-family: Arial; font-size: 15px; vertical-align: baseline; white-space: pre-wrap;">8. &nbsp;&nbsp;&nbsp;&nbsp;Starting Search Service</span></div><div dir="ltr" style="font-family: Times; font-size: medium; margin-bottom: 0pt; margin-left: 18pt; margin-top: 0pt; text-indent: -18pt; white-space: normal;"><span style="font-family: Arial; font-size: 15px; vertical-align: baseline; white-space: pre-wrap;">9. &nbsp;&nbsp;&nbsp;&nbsp;Starting Clipboard Service</span></div><div dir="ltr" style="font-family: Times; font-size: medium; margin-bottom: 0pt; margin-left: 18pt; margin-top: 0pt; text-indent: -18pt; white-space: normal;"><span style="font-family: Arial; font-size: 15px; vertical-align: baseline; white-space: pre-wrap;">10. &nbsp;&nbsp;Starting Checkin Service</span></div><div dir="ltr" style="font-family: Times; font-size: medium; margin-bottom: 0pt; margin-left: 18pt; margin-top: 0pt; text-indent: -18pt; white-space: normal;"><span style="font-family: Arial; font-size: 15px; vertical-align: baseline; white-space: pre-wrap;">11. &nbsp;&nbsp;Starting Wallpaper Service</span></div><div dir="ltr" style="font-family: Times; font-size: medium; margin-bottom: 0pt; margin-left: 18pt; margin-top: 0pt; text-indent: -18pt; white-space: normal;"><span style="font-family: Arial; font-size: 15px; vertical-align: baseline; white-space: pre-wrap;">12. &nbsp;&nbsp;Starting Audio Service</span></div><div dir="ltr" style="font-family: Times; font-size: medium; margin-bottom: 0pt; margin-left: 18pt; margin-top: 0pt; text-indent: -18pt; white-space: normal;"><span style="font-family: Arial; font-size: 15px; vertical-align: baseline; white-space: pre-wrap;">13. &nbsp;&nbsp;Starting HeadsetObserver</span></div><div dir="ltr" style="font-family: Times; font-size: medium; margin-bottom: 0pt; margin-left: 18pt; margin-top: 0pt; text-indent: -18pt; white-space: normal;"><span style="font-family: Arial; font-size: 15px; vertical-align: baseline; white-space: pre-wrap;">14. &nbsp;&nbsp;Starting AdbSettingsObserver</span></div><div dir="ltr" style="font-family: Times; font-size: medium; margin-bottom: 0pt; margin-top: 0pt; text-align: justify; white-space: normal;"><span style="font-family: Arial; font-size: 15px; vertical-align: baseline; white-space: pre-wrap;"> </span></div><span style="font-family: Arial; font-size: 15px; font-weight: bold; vertical-align: baseline; white-space: pre-wrap;">Step 7 : Boot Completed</span><br /><span style="font-family: Arial; font-size: 15px; font-weight: bold; vertical-align: baseline; white-space: pre-wrap;"></span><br /><span style="font-family: Arial; font-size: 15px; vertical-align: baseline; white-space: pre-wrap;">Once System Services up and running in memory, Android has completed booting process, At this time “ACTION_BOOT_COMPLETED” standard broadcast action will fire.</span></b></div><div style="font-family: Arial; font-size: 15px; text-align: justify; white-space: pre-wrap;"><b style="font-family: Times; font-size: medium; font-weight: normal; text-align: start; white-space: normal;"><span style="font-family: Arial; font-size: 15px; vertical-align: baseline; white-space: pre-wrap;"><br /></span></b></div><br /><br /></div>