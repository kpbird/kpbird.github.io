---
layout: post
title: Android Clipboard Framework
date: '2011-05-30T18:30:00.000+05:30'
author: Ketan Parmar
tags:
- Android Clipboard Framework
- Android SDK 3.0
- Android
modified_time: '2011-06-07T09:48:27.850+05:30'
thumbnail: http://4.bp.blogspot.com/-Y0jguUMx9Xk/TeOUlgydXMI/AAAAAAAADKA/jDQ3j-dvG8k/s72-c/cp1.png
blogger_id: tag:blogger.com,1999:blog-17114597.post-5003654265499150495
blogger_orig_url: http://www.kpbird.com/2011/05/android-clipboard-framework.html
---

<div dir="ltr" style="text-align: left;" trbidi="on">Android SDK 3.0 has various new API. Android 3.0 has 1180 new classes, methods and interfaces. (<a href="http://kpbird.blogspot.com/2011/05/android-api-difference-between-20-and.html">Click Here for complete list</a>).&nbsp; Clipboard Framework is newly introduce in Android 3.0. basic purpose of this framework is to provide copy and paste data between various application.&nbsp; It is very powerful framework. It supports simple data like text (String) and complex type like binary data, objects etc.<br /><br />Here I am going to explain very simple example of Android Clipboard Framework. Let's start with introduction of key classes.<br /><br /><b>1. ClipboardManager:</b> It is represent as global object. We do not need to create new object of ClipboardManager. We can directly fetch object from system service. we can get reference by invoking getSystemService(CLIPBOARD_SERVICE).<br /><br /><b>2. ClipData: </b>To put any object in clipboard we need to create object of ClipData class. ClipData object contain ClipData.Item and ClipDescription.<br /><br /><b>3. ClipData.Item: </b>It contain object which we copied. Object can be Text, URI or Intent data.<br /><br /><b>4. ClipDescription:</b> It is metadata about clip. It contain MIME type of clip data.<br />&nbsp; <br />Let's start with very simple demo of ClipBoard Framework.<br /><a name='more'></a><b>Step 1</b>: Create Android Project with following settings<br /><br />Project Name : CopyAndPasteDemo<br />Package Name : com.kpbird.cp<br />Activity Name : CopyAndPasteDemo<br />Android SDK : 3.0<br /><br /><b>Step 2</b>: Open main.xml, we are going to create layout first. place two edit text component and two buttons for copy and paste. We will use one edit text as source and another edit text as destination. when user press copy button we will copy content of first edit text. when user press paste button we will paste content in second edit test. <br /><br /><pre class="brush: xml;"><linearlayout android:layout_height="fill_parent" android:layout_width="fill_parent" android:orientation="vertical" xmlns:android="http://schemas.android.com/apk/res/android"><br /> <textview android:layout_height="wrap_content" android:layout_width="fill_parent" android:text="@string/hello"><br /> <edittext android:id="@+id/txtCopy" android:layout_height="wrap_content" android:layout_width="match_parent" android:minlines="5" android:scrollbaralwaysdrawverticaltrack="true" android:verticalscrollbarposition="defaultPosition"></edittext><br /> <linearlayout android:gravity="center_horizontal" android:layout_height="wrap_content" android:layout_width="fill_parent" android:orientation="horizontal"><br />  <button android:id="@+id/btnCopy" android:layout_height="wrap_content" android:layout_width="wrap_content" android:text="Copy Text From Above EditText"></button><br />  <button android:id="@+id/btnPaste" android:layout_height="wrap_content" android:layout_width="wrap_content" android:text="Paste Text To Below EditText"></button><br /> </linearlayout><br /> <edittext android:cursorvisible="true" android:id="@+id/txtPaste" android:layout_height="wrap_content" android:layout_width="match_parent" android:minlines="5"></edittext><br /></textview></linearlayout><br /></pre><br /><b>Step 3 </b>: Open CopyAndPasteDemo.java and write following coding.<br />Here we have created object of ClipboradManager, Buttons and EditText. we are fetching object of ClipboardManager from getSystemService in onCreate method.<br />We have implement OnClickListener event for buttons. <br /><br />When user click on Copy button. we need to create object of ClipData and set the Text in it. Following code is used to copy text<br /><br /><pre class="brush: java;">ClipData cd1 = ClipData.newPlainText("MyData", txtCopy.getText());<br />cm.setPrimaryClip(cd1);<br /></pre><br />Following code is used to paste value<br /><br /><pre class="brush: java">ClipData cd2 = cm.getPrimaryClip();<br />txtPaste.setText(cd2.getItemAt(0).getText());<br /></pre><br /><b>Full Source Code.</b><br /><br /><pre class="brush: java;">package com.kpbird.cp;<br /><br />import android.app.Activity;<br />import android.content.ClipData;<br />import android.content.ClipboardManager;<br />import android.os.Bundle;<br />import android.view.View;<br />import android.view.View.OnClickListener;<br />import android.widget.Button;<br />import android.widget.EditText;<br />import android.widget.Toast;<br /><br />public class CopyAndPasteDemo extends Activity implements OnClickListener {<br /><br /> private ClipboardManager cm;<br /> private Button btnCopy;<br /> private Button btnPaste;<br /> private EditText txtCopy;<br /> private EditText txtPaste;<br /> <br />    @Override<br />    public void onCreate(Bundle savedInstanceState) {<br />        super.onCreate(savedInstanceState);<br />        setContentView(R.layout.main);<br />        cm = (ClipboardManager) getSystemService(CLIPBOARD_SERVICE);<br />        btnCopy = (Button) findViewById(R.id.btnCopy);<br />        btnPaste = (Button) findViewById(R.id.btnPaste);<br />        txtCopy = (EditText) findViewById(R.id.txtCopy);<br />        txtPaste = (EditText) findViewById(R.id.txtPaste);<br />        <br />        btnCopy.setOnClickListener(this);<br />        btnPaste.setOnClickListener(this);<br />    }<br /><br /> public void onClick(View v) {<br />  switch(v.getId()){<br />  case R.id.btnCopy:<br />   ClipData cd1 = ClipData.newPlainText("MyData", txtCopy.getText());<br />   <br />   cm.setPrimaryClip(cd1);<br />   Toast t = Toast.makeText(this, "Text Copied", Toast.LENGTH_SHORT);<br />   t.show();<br />   break;<br />  case R.id.btnPaste:<br />   ClipData cd2 = cm.getPrimaryClip();<br />   txtPaste.setText(cd2.getItemAt(0).getText());<br />   Toast t1 = Toast.makeText(this, "Text Pested", Toast.LENGTH_SHORT);<br />   t1.show();<br />   break;<br />  }<br />  <br /> }<br />    <br />}<br /><br /></pre><br /><b>Images</b><br /><br /><div class="separator" style="clear: both; text-align: center;"><a href="http://4.bp.blogspot.com/-Y0jguUMx9Xk/TeOUlgydXMI/AAAAAAAADKA/jDQ3j-dvG8k/s1600/cp1.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" height="200" src="http://4.bp.blogspot.com/-Y0jguUMx9Xk/TeOUlgydXMI/AAAAAAAADKA/jDQ3j-dvG8k/s320/cp1.png" width="320" /></a></div><br /><div class="separator" style="clear: both; text-align: center;"><a href="http://4.bp.blogspot.com/-HiOTCDt_GjM/TeOUmDIE-SI/AAAAAAAADKE/nT8-P6hZfhY/s1600/cp2.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" height="200" src="http://4.bp.blogspot.com/-HiOTCDt_GjM/TeOUmDIE-SI/AAAAAAAADKE/nT8-P6hZfhY/s320/cp2.png" width="320" /></a></div><br /><div class="separator" style="clear: both; text-align: center;"><a href="http://2.bp.blogspot.com/-jZ5qFTHk38w/TeOUmpuRsSI/AAAAAAAADKI/GCTQlfOOxdQ/s1600/cp3.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" height="200" src="http://2.bp.blogspot.com/-jZ5qFTHk38w/TeOUmpuRsSI/AAAAAAAADKI/GCTQlfOOxdQ/s320/cp3.png" width="320" /></a></div><br /><span class="status">G6DUCQBFDKQR</span></div>