---
layout: post
title: Android Add menu in Share
date: '2011-10-10T18:18:00.000+05:30'
author: Ketan Parmar
tags:
- Share Menu
- Android
modified_time: '2013-01-29T15:40:15.537+05:30'
thumbnail: http://2.bp.blogspot.com/-NRLTBg0IIKQ/TpLfxIH5rFI/AAAAAAAADPs/ylaN66QTUBk/s72-c/device-2011-10-10-172956.png
blogger_id: tag:blogger.com,1999:blog-17114597.post-778033281082532357
blogger_orig_url: http://www.kpbird.com/2011/10/android-add-menu-in-share.html
---

<div dir="ltr" style="text-align: left;" trbidi="on"><div class="separator" style="clear: both; text-align: center;"><a href="http://2.bp.blogspot.com/-NRLTBg0IIKQ/TpLfxIH5rFI/AAAAAAAADPs/ylaN66QTUBk/s1600/device-2011-10-10-172956.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" height="640" src="http://2.bp.blogspot.com/-NRLTBg0IIKQ/TpLfxIH5rFI/AAAAAAAADPs/ylaN66QTUBk/s640/device-2011-10-10-172956.png" width="361" /></a></div><br /><br /><br />Many times you might observe 3rd party application icon in Android Share menu. Suppose your application pick image/video from gallery, pick contact from contact book or pick audio from music player In this situation better options is to add your application menu in Share options so that user can directly select image/video from gallery or relavent application.<br /><br />Share menu will display name &amp; icon of your application<br /><br />It is very easy to add menu in Share option.<br /><br />Step 1 : Create Android project<br /><br />Step 2 : Create activity named "MyShareMenu.java" (No need to create xml layout for this Activity)<br /><br />Step 3: Register new activity in AndroidManiFest.xml file like following<br /><br /><br /><br /><pre class="brush: xml"><br />&lt;activity android:name=&quot;MyShareMenu&quot;&gt;<br />            &lt;intent-filter&gt;<br />                &lt;action android:name=&quot;android.intent.action.SEND&quot;&gt;&lt;/action&gt;<br />                &lt;data android:mimetype=&quot;*/*&quot;&gt;&lt;/data&gt;<br />                &lt;category android:name=&quot;android.intent.category.DEFAULT&quot;&gt;&lt;/category&gt;<br />            &lt;/intent-filter&gt;<br />    &lt;/activity&gt;<br /></pre>The importent part is data tag in that you can specify mimeType as per your application supports. For the demo purpose I have choose */* means every mimeType but you can write image/*, audio/* , video/* as per the need of your application.<br /><br />Step 4: Fetch Uri of selected item, When user click on application from the Share menu, Android will call "MyShareMenu" activity with uri of selected item. Use following code to get Uri.<br /><br /><pre class="brush: java">protected void onCreate(Bundle savedInstanceState) {<br />  super.onCreate(savedInstanceState);<br />  <br />  Intent intent = getIntent();<br />  Bundle extras = intent.getExtras();<br />  String action = intent.getAction();<br />  <br />  // if this is from the share menu<br />  if (Intent.ACTION_SEND.equals(action)) {   <br />   if (extras.containsKey(Intent.EXTRA_STREAM)) {<br />    //  Get resource path<br />    Uri uri = (Uri) extras.getParcelable(Intent.EXTRA_STREAM);<br />    Toast.makeText(this, "Selected File :" + uri.toString(), Toast.LENGTH_LONG).show();<br />    }<br />  } <br /> }<br /><br /></pre>In above code I have displays Toast but your can write business logic as per your need.<br /><br /><br /></div>